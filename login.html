<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Login SIMAK-3</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-success d-flex justify-content-center align-items-center vh-100">

<div class="card p-4 shadow" style="width:350px">
<h4 class="text-center">Login SIMAK-3</h4>

<input type="email" id="email" class="form-control mb-2" placeholder="Email">
<input type="password" id="password" class="form-control mb-2" placeholder="Password">

<select id="role" class="form-control mb-3">
  <option value="admin">Admin (Wali Kelas)</option>
  <option value="guru">Guru Mapel</option>
  <option value="kepsek">Kepala Madrasah</option>
</select>

<button onclick="login()" class="btn btn-success w-100">Login</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = { /* ISI KODE FIREBASE */ };
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.login = function(){
  let email = document.getElementById("email").value;
  let pass = document.getElementById("password").value;
  let role = document.getElementById("role").value;

  signInWithEmailAndPassword(auth, email, pass)
  .then(() => {
    if(role === "admin") window.location.href="dashboard.html";
    if(role === "guru") window.location.href="dashboard-guru.html";
    if(role === "kepsek") window.location.href="dashboard-kepsek.html";
  })
  .catch(err => alert("Login gagal"));
}
</script>
</body>
</html>
